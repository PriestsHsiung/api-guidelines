# 统一响应码 

api的请求响应码，和标准的http状态码基本一致，按照[RFC 7231](https://tools.ietf.org/html/rfc7231#page-47)的标准定义。

这里我们先明确以下几个概念：

**请求成功**：api能正确接收请求并按照预期的方式处理请求和返回结果。
**请求失败**：api无法接收请求，可能由于用户身份无法确定，或者由于api要求必须的参数无法在请求中解析得到等问题。


|结果|状态码|备注|
|----|----|----|
|请求成功|2xx|请求处理成功|
|请求失败|4xx|请求失败|
|请求处理异常|5xx|请求处理过程出现异常|

在restful api中，一般不会出现重定向的响应，因此本规范不对3xx的响应做定义，也不建议返回3xx的响应码。

---

## 请求成功

在api响应码中，要求所有请求成功处理成功都必须返回2xx类型的响应码，后两位表示具体的操作含义，这里我们对常用的状态说明一下：

|状态码|含义|
|----|----|
|201|已创建，在创建记录成功的时候返回|
|202|已接受请求，正在处理中，通常用于对需要较长处理时间的业务，并且不需要用户等待处理完成的api中|
|204|已接收请求，但服务不需要返回信息|

我们举几个例子来说明：

```
创建学生: POST /student -> 响应码: 201
修改学生: PATCH /student -> 响应码: 204
为所有学生生成历史成绩曲线: POST /statistic/history -> 响应码: 202
```

在上面几个例子中，需要对*为所有学生生成历史成绩曲线*这个业务做一点说明，这个业务是为所有学生生成历史成绩曲线，由于学校学生数量众多，每个学生的历史成绩数量也很多，这个请求可能会耗费大量的时间，对于用户来说，并不需要在这个数据生成之后马上看到，用户可能在其他系统或业务中查看历史成绩曲线，因此这个业务是不需要等业务完成再返回结果的，可以开启一个后台线程进行这个业务，同时直接返回202告诉客户端请求已接受，正在处理中。

---

## 请求失败

